webpackJsonp([1],{"1SrQ":function(t,e){},Flqn:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("7+uW"),l={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var o=n("VU/8")({name:"App"},l,!1,function(t){n("1SrQ")},null,null).exports,i=n("zL8q"),s=n.n(i),r=n("/ocq"),c=(n("mw3O"),{name:"Battle",data:function(){return{value1:0,turn:1,Hero:{currentUser:"虞大叶",HP_Hero:0},weaponOfindex:[1,0,0],skillOfindex:[1,1,1],log:[],BatInf:"开始战斗",level:3,startTurn:1,sid:-1,useSkillName:"",Mon:{Mon_name:"",HP_Mon:0},weaponName:[{name:"压制之刃【加攻击】"},{name:"天堂之戟【每次击打加护甲】"},{name:"虚灵刀【吸血：每轮攻击回复造成伤害的50%】"}],multipleSelection:[],skillName:[{name:"魔龙之心【回血】"},{name:"虚空之甲【护甲永久加成4点】"},{name:"魔王降临【连击】"}]}},mounted:function(){this.initUser()},methods:{initUser:function(){console.log("初始化");var t=this;t.turn;this.$axios.get("/start").then(function(e){console.log(e.data),t.Hero.HP_Hero=e.data[0].hp,t.level=e.data[0].level-1,t.attackByHero=e.data[0].attack,t.Mon.HP_Mon=e.data[1].hp,t.Mon.Mon_name=e.data[1].name,t.attackByMonster=e.data[1].attack,t.weaponOfindex=e.data[0].equipments,t.skillOfindex=e.data[0].skills}).catch(function(e){console.log(e),t.$message("初始化失败")})},getBattleInf:function(){console.log("获取战斗信息");var t=this;if("开始战斗"!==t.BatInf){var e="/skill?sid="+t.sid;console.log("向后台发送技能"+t.sid),this.$axios.get(e).then(function(e){console.log(e.data),t.Hero.HP_Hero=e.data[0].hp,t.level<e.data[0].level&&t.$message({message:"恭喜你，升级了",type:"success"}),t.level=e.data[0].level,t.attackByHero=e.data[0].attack,t.Mon.HP_Mon=e.data[1].hp,t.Mon.Mon_name=e.data[1].name,t.attackByMonster=e.data[1].attack,t.weaponOfindex=e.data[0].equipments,t.skillOfindex=e.data[0].skills;var n="虞大叶使用  "+t.useSkillName+"  攻击  "+t.Mon.Mon_name+" 造成 "+e.data[2].monsterBloodLose+" 伤害\n",a="    与此同时  "+t.Mon.Mon_name+"   攻击虞大叶造成  "+e.data[2].heroBloodLose+" 伤害\n",l={id:t.log.length+1,inf:n},o={id:t.log.length+2,inf:a};t.log.push(l),t.log.push(o),e.data[2].over&&t.$notify({title:"战斗",message:"战斗结束，请开始下一关",type:"warning"})}).catch(function(t){console.log(t)}),this.$refs.multipleTable.clearSelection()}else this.$message.error("请先开始战斗")},choseBattle1:function(){this.startTurn=1,this.BatInf="第一关",this.StartBattle()},choseBattle2:function(){this.startTurn=2,this.BatInf="第二关",this.StartBattle()},choseBattle3:function(){this.startTurn=3,this.BatInf="第三关",this.StartBattle()},StartBattle:function(){var t=this,e="/loop?lid="+this.startTurn;console.log(e),this.$axios.get(e).then(function(e){console.log(e.data),t.$message(t.BatInf),t.Hero.HP_Hero=e.data[0].hp,t.level=e.data[0].level-1,t.attackByHero=e.data[0].attack,t.Mon.HP_Mon=e.data[1].hp,t.Mon.Mon_name=e.data[1].name,t.attackByMonster=e.data[1].attack,t.weaponOfindex=e.data[0].equipments,t.skillOfindex=e.data[0].skills}).catch(function(t){console.log(t)})},tableRowClassName:function(t){t.row;var e=t.rowIndex;return console.log("武器状态："+this.weaponOfindex),0===this.weaponOfindex[e]?"warning-row":""},tableRowClassName1:function(t){t.row;var e=t.rowIndex;return console.log("技能状态："+this.skillOfindex),0===this.skillOfindex[e]?"warning-row":""},handleSelectionChange:function(t){this.multipleSelection=t,this.multipleSelection.length>0&&("虚空之甲【护甲永久加成4点】"===this.multipleSelection[0].name?(this.sid=2,this.useSkillName="虚空之甲【护甲永久加成4点】"):"魔王降临【连击】"===this.multipleSelection[0].name?(this.sid=3,this.useSkillName="魔王降临【连击】"):"魔龙之心【回血】"===this.multipleSelection[0].name&&(this.sid=1,this.useSkillName="魔龙之心【回血】"))}}}),d={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div"),t._v(" "),n("div",[n("el-steps",{attrs:{active:t.level,simple:""}},[n("el-step",{attrs:{title:"雨之气",icon:"el-icon-edit"}}),t._v(" "),n("el-step",{attrs:{title:"雨者",icon:"el-icon-upload"}}),t._v(" "),n("el-step",{attrs:{title:"雨灵",icon:"el-icon-picture"}}),t._v(" "),n("el-step",{attrs:{title:"雨皇",icon:"el-icon-edit"}}),t._v(" "),n("el-step",{attrs:{title:"雨尊",icon:"el-icon-upload"}}),t._v(" "),n("el-step",{attrs:{title:"雨帝",icon:"el-icon-picture"}})],1)],1),t._v(" "),n("el-container",[n("el-aside",{attrs:{width:"150px"}},[n("br"),t._v(" "),n("el-button",{attrs:{width:"150px"},nativeOn:{click:function(e){return t.getBattleInf(e)}}},[t._v("出手")]),t._v(" "),n("br"),t._v(" "),n("br"),t._v(" "),n("el-table",{staticStyle:{width:"180px"},attrs:{data:t.weaponName,"tooltip-effect":"dark","row-class-name":t.tableRowClassName}},[n("el-table-column",{attrs:{label:"武器",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.name))]}}])})],1),t._v(" "),n("span"),t._v(" "),n("br"),t._v(" "),n("br"),t._v(" "),n("el-table",{ref:"multipleTable",staticStyle:{width:"180px"},attrs:{data:t.skillName,"tooltip-effect":"dark","row-class-name":t.tableRowClassName1},on:{"selection-change":t.handleSelectionChange}},[n("el-table-column",{attrs:{type:"selection",width:"50"}}),t._v(" "),n("el-table-column",{attrs:{label:"技能",width:"130"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.name))]}}])})],1)],1),t._v(" "),n("el-container",[n("el-header",[n("div",[n("span",t._b({staticClass:"left"},"span",t.Hero,!1),[t._v("角色："+t._s(t.Hero.currentUser)+"  ----  HP : "+t._s(t.Hero.HP_Hero))]),t._v(" "),n("el-dropdown",[n("span",{staticClass:"el-dropdown-link"},[t._v("\n      "+t._s(t.BatInf)),n("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{attrs:{icon:"el-icon-plus"},nativeOn:{click:function(e){return t.choseBattle1(e)}}},[t._v("第一关")]),t._v(" "),n("el-dropdown-item",{attrs:{icon:"el-icon-circle-plus"},nativeOn:{click:function(e){return t.choseBattle2(e)}}},[t._v("第二关")]),t._v(" "),n("el-dropdown-item",{attrs:{icon:"el-icon-check"},nativeOn:{click:function(e){return t.choseBattle3(e)}}},[t._v("第三关")])],1)],1),t._v(" "),n("span",t._b({staticClass:"right"},"span",t.Mon,!1),[t._v("Monster："+t._s(t.Mon.Mon_name)+"  ---- HP :"+t._s(t.Mon.HP_Mon))])],1)]),t._v(" "),n("el-main",[n("el-card",{staticClass:"box-card"},t._l(t.log,function(e){return n("div",{key:e.id,staticClass:"text_item"},[t._v(t._s(e))])}),0)],1)],1)],1)],1)},staticRenderFns:[]};var u=n("VU/8")(c,d,!1,function(t){n("Flqn")},null,null).exports;a.default.use(r.a);var p=new r.a({routes:[{path:"/",name:"Battle",component:u}]}),h=(n("tvR6"),n("mtWM")),f=n.n(h);f.a.defaults.baseURL="http://172.19.159.222:8888/",a.default.prototype.$axios=f.a,a.default.use(s.a),a.default.config.productionTip=!1,new a.default({el:"#app",router:p,components:{App:o},template:"<App/>"})},tvR6:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.9906044f3e85080e5c0c.js.map